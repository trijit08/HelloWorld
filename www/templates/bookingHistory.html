<ion-view view-title="Your Booking History">
   <ion-content style="background-image : url('img/mbg.jpg'); background-repeat: round;">
         <div class="card" ng-hide="bookingHistory.length">
			  <div class="item item-divider" style="text-align : center;">
				 Oops! Nothing to show here
			  </div>
			  <div class="item item-text-wrap" style="text-align : center;">
				Well apparently, you do not have any Bookings till date with ePark. All your present and past bookings are meant to be shown here. It's ok, start booking and enjoy a hassle free parking experience. 
			  </div>
		 </div>	  
       
       <div class="list card" ng-repeat="booking in bookingHistory">
			  <div class="item item-avatar" style="background-color: darkslategray;">
				<img src="img/history.png">
				<h2 style="color : white;">{{booking.formatDate}}</h2>
				<p style="font-size : 15px; color : white;">{{booking.parking_id.name}}</p>

			  </div>

			  <div class="item item-body">
						<p style="font-weight : 500; font-size : 16px;">Booking ID : {{booking._id}}</p>
						<ul>
						   <li><span style="font-weight : 500;">Booking Start Time :</span> {{booking.start_time <= 12 ? booking.start_time : booking.start_time - 12}} {{booking.start_time <= 12 ? 'AM' : 'PM'}}</li>
						   <li><span style="font-weight : 500;">Booking End Time :</span> {{booking.start_time+booking.hours <= 12 ? booking.start_time+booking.hours : booking.start_time++booking.hours - 12}} {{booking.start_time+booking.hours <= 12 ? 'AM' : 'PM'}}</li>
						   <li><span style="font-weight : 500;">Booking Span :</span>{{booking.hours}} Hour(s)</li>
						   <li style="margin-top : 2vw;"><span style="font-weight : 500;">Charge :</span> <span style="font-size: 5vw; font-weight: 500; color: brown;">â‚¹ {{booking.parking_id.hourly_price * booking.hours}}</span></li>
						   <li ng-if="booking.status == 'pending'" style="margin-top : 2vw;"><span style="font-weight : 500;">Your OTP :</span> <span style="font-size: 5vw; font-weight: 500; color: green;">{{booking.otp.value}}</span></li>
						   <li ng-if="booking.status == 'booked'" style="margin-top : 2vw;"><span style="font-size: 4vw; font-weight: 500; color: green;">ON-GOING BOOKING</span></li>
						</ul>

						<!--<div style="float : right;">Status : <span style="font-size : 20px; color : green;">{{booking.status}}</span></div>-->
						<img ng-if="booking.status == 'pending'" src="img/pending.png" style="float : right; width: 28%; margin-top: -10vw;"/>
						<img ng-if="booking.status == 'completed'" src="img/completed.png" style="float : right; width: 32%; margin-top: -14vw;"/>
						<img ng-if="booking.status == 'cancelled'" src="img/cancel.png" style="float : right; width: 28%; margin-top: -10vw;"/>
						<img ng-if="booking.status == 'booked'" src="img/booked.png" style="float : right; width: 31%; margin-top: -24vw;"/>
						
						<div ng-if="booking.status == 'pending'" style="text-align : center; margin-top: 6vw;">
						     <button class="button button-medium button-calm" ng-click="cancelBooking(booking._id);">
							     <!--<i class="icon ion-close-circled" style="margin-right : 5px;"></i>-->Cancel Booking
							 </button>
						</div>
			 </div>
       </div>

   </ion-content>
</ion-view>
